<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Third-party scripts (Ads, Cookiebot, Analytics) -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9220668448111826" crossorigin="anonymous"></script>
  <script id="Cookiebot" src="https://consent.cookiebot.com/uc.js" data-cbid="3bb01a83-21cf-41ef-ae7f-189be695480d" type="text/javascript" async></script>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-P6YK70VQ60"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-P6YK70VQ60');
  </script>
  
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>StudyMate | Progress & Analytics Dashboard</title>
  <link rel="stylesheet" href="css/style.css" />
  <!-- Include Chart.js from CDN -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    /* Inline styles specific to the progress dashboard */
    .dashboard-section { margin-bottom: 2rem; }
    .dashboard-section h2 { margin-bottom: 1rem; text-align: center; }
    .card {
      background-color: var(--white);
      padding: 1rem;
      border-radius: 0.5rem;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      margin-bottom: 1rem;
    }
    .card p { margin: 0.5rem 0; }
    /* Ensure charts resize nicely */
    canvas { display: block; margin: 0 auto; }
  </style>
</head>
<body>
  <!-- Navigation -->
  <header>
    <nav class="navbar" aria-label="Main Navigation">
      <img src="assets/logo.png" alt="StudyMate Logo" style="height:40px;">
      <ul class="nav-list">
        <li><a href="dashboard.html">Dashboard</a></li>
        <li><a href="flashcards.html">Flashcards</a></li>
        <li><a href="quiz.html">Quiz</a></li>
        <li><a href="planner.html">Planner</a></li>
        <li><a href="progress.html">Progress</a></li>
      </ul>
      <div id="auth-buttons">
        <button id="login-btn" class="btn">Login</button>
        <button id="logout-btn" class="btn">Logout</button>
      </div>
      <button id="toggle-dark-mode" class="btn">Dark Mode</button>
    </nav>
  </header>

  <!-- Main Dashboard Content -->
  <main>
    <div class="container">
      <h1>StudyMate Progress & Analytics</h1>
      
      <!-- Section 1: Study Insights -->
      <section class="dashboard-section" id="study-insights">
        <h2>Study Insights</h2>
        <div class="card">
          <p><strong>Current Study Streak:</strong> <span id="study-streak">0</span> days</p>
          <p><strong>Total Study Time (This Week):</strong> <span id="study-time-week">0</span> hours</p>
          <p><strong>Total Study Time (This Month):</strong> <span id="study-time-month">0</span> hours</p>
        </div>
      </section>
      
      <!-- Section 2: Task Completion Breakdown -->
      <section class="dashboard-section" id="tasks-breakdown">
        <h2>Task Completion Breakdown</h2>
        <canvas id="tasksChart" width="400" height="200"></canvas>
      </section>
      
      <!-- Section 3: Memory Strength Scores -->
      <section class="dashboard-section" id="memory-strength">
        <h2>Memory Strength Scores</h2>
        <div id="memory-scores" class="card">
          <!-- Table gets populated by progress.js -->
        </div>
      </section>
      
      <!-- Section 4: Milestones & Achievements -->
      <section class="dashboard-section" id="milestones">
        <h2>Milestones & Achievements</h2>
        <div id="achievements" class="card">
          <!-- Achievements list gets populated by progress.js -->
        </div>
      </section>
      
      <!-- Section 5: Smart Suggestions -->
      <section class="dashboard-section" id="suggestions">
        <h2>Smart Suggestions</h2>
        <div id="recommendations" class="card">
          <!-- Suggestions list gets populated by progress.js -->
        </div>
      </section>
    </div>
  </main>

  <!-- Include your script files at the end of the body -->
  <script type="module" src="js/auth.js"></script>
  <script src="js/common.js"></script>
  <script type="module" src="./js/progress.js"></script>
</body>
</html>
